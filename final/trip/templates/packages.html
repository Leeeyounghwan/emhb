{% load static %}
{% load humanize %}

<!doctype html>
<html class="no-js" lang="zxx">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Go trip</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="manifest" href="site.webmanifest">
		<link rel="shortcut icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">

		<!-- CSS here -->
            <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/owl.carousel.min.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/flaticon.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/slicknav.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/animate.min.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/magnific-popup.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/fontawesome-all.min.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/themify-icons.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/slick.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/nice-select.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}"/>
            <link rel="stylesheet" type="text/css" href="{% static 'admin_vendor/fontawesome-free/css/all.min.css'%}">
            <!-- 챗봇 -->
            <link rel="stylesheet" href="{% static 'css/chatbot.css' %}">
            <link rel="stylesheet" href="{% static "css/chat/chat2.css" %}">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"/>
   </head>
   <style>
    .dolor_content{
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .place-img img{
        height: 20em;
    }
    </style>
   <body>
    <!-- Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="{% static 'img/logo/logo.png' %}" alt="">
                </div>
            </div>
        </div>
    </div>
    <!-- Preloader Start -->
    {% include 'nav.html' %}

    <main>
        <!-- slider Area Start-->
        <div class="slider-area ">
            <!-- Mobile Menu -->
            <div class="single-slider slider-height2 d-flex align-items-center" data-background="{% static 'img/packages.jpg' %}">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12">
                            <!-- CSS 확인작업중 -->
                            <div class="hero-cap text-center" style="background-image: url("{% static 'img/hero/contact_hero.jpg' %}");"> 
                                <h2>Our Packages</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- slider Area End-->

        <!-- Favourite Places Start -->
        <div class="favourite-place place-padding">
            <div class="container">
                <!-- Section Tittle -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle text-center">
                            <span>추천여행패키지</span>
                            <h2>인기여행상품</h2>
                        </div>
                    </div>
                </div>

                
                <div class="row">
                    {%for item in items %}
                    <div class="col-xl-4 col-lg-4 col-md-6">
                        <div class="single-place mb-30">
                            <div class="place-img">
                                {% if item.image %}
                                    <a href="{% url 'trip:package_detail' item.id%}"><img src="{{ item.image.url }}" alt="{{ item.destination }}"></a>
                                {% endif %}
                            </div>

                            <div class="place-cap">
                                <div class="place-cap-top">
                                    <span><i class="fas fa-star"></i><span>8.0superb</span></span>
                                    <h3><a href="{% url 'trip:package_detail' item.id%}">{{ item.title }}</a></h3>
                                    <p class="dolor_content">{{ item.content }}</p>
                                    <p class="dolor">{{ item.price|intcomma }}원<span>/ 인원 당</span></p>
                                </div>

                                <div class="place-cap-bottom">
                                    <ul>
                                        <li><i class="far fa-clock">출발일 : {{ item.start_date|date:"Y년 m월 d일" }}</i></li>
                                        <li><i class="far fa-clock">도착일 : {{ item.end_date|date:"Y년 m월 d일" }}</i></li>
                                        <li><i class="fas fa-map-marker-alt"></i>여행지 : {{ item.destination }}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <!-- Favourite Places End -->

        
    </main>
    {% include "chat/chat_merge.html" %}
    {% include 'footer.html'%}

	<!-- JS here -->
	
		<!-- All JS Custom Plugins Link Here here -->
        <script src="{% static 'js/vendor/modernizr-3.5.0.min.js' %}"></script>
		
		<!-- Jquery, Popper, Bootstrap -->
		<script src="{% static 'js/vendor/jquery-1.12.4.min.js' %}"></script>
        <script src="{% static 'js/popper.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
	    <!-- Jquery Mobile Menu -->
        <script src="{% static 'js/jquery.slicknav.min.js' %}"></script>

		<!-- Jquery Slick , Owl-Carousel Plugins -->
        <script src="{% static 'js/owl.carousel.min.js' %}"></script>
        <script src="{% static 'js/slick.min.js' %}"></script>
		<!-- One Page, Animated-HeadLin -->
        <script src="{% static 'js/wow.min.js' %}"></script>
		<script src="{% static 'js/animated.headline.js' %}"></script>
        <script src="{% static 'js/jquery.magnific-popup.js' %}"></script>

		<!-- Scrollup, nice-select, sticky -->
        <script src="{% static 'js/jquery.scrollUp.min.js' %}"></script>
        <script src="{% static 'js/jquery.nice-select.min.js' %}"></script>
		<script src="{% static 'js/jquery.sticky.js' %}"></script>
        
        <!-- contact js -->
        <script src="{% static 'js/contact.js' %}"></script>
        <script src="{% static 'js/jquery.form.js' %}"></script>
        <script src="{% static 'js/jquery.validate.min.js' %}"></script>
        <script src="{% static 'js/mail-script.js' %}"></script>
        <script src="{% static 'js/jquery.ajaxchimp.min.js' %}"></script>
        
		<!-- Jquery Plugins, main Jquery -->	
        <script src="{% static 'js/plugins.js' %}"></script>
        <script src="{% static 'js/main.js' %}"></script>

        <!-- ChatBot -->
        <script src="https://kit.fontawesome.com/b02373c6ac.js" crossorigin="anonymous"></script>
        <script src="{% static 'js/chatbot.js' %}"></script>

        <!-- 날짜계산기 -->
        <!-- 맞는지 확인해봐야함 -->
        <script type="text/javascript">
            const startDate = document.querySelector("#far fa-clock")[0];
            const endDate = document.querySelector("#far fa-clock")[1];

            const start = new Date(startDate);
            const end = new Date(endDate);

            let year = Math.abs(end.getFullYear() - start.getFullYear()); //년도
            let month = Math.abs((end.getFullYear() - start.getFullYear()) * 12 + (end.getMonth() - start.getMonth())); //월
            let day = Math.abs(end.getTime() - start.getTime());
                day = Math.ceil(day / (1000 * 60 * 60 * 24));

            var result.innerHTML = "<li><i class='far fa-clock'>" + year + month + day + "</i></li>";
        </script>
    </body>
</html>